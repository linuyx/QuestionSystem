<!--
    @author linuyx
    @create 2020-06-15 16:25
-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>随机出题系统</title>
    <script type="text/javascript" src="../js/jquery-3.4.1.js"></script>
    <style>
        body{background: url("../image/a5a03913559e81d9c7da55b0dcd9c5a2.jpg");
            background-repeat: no-repeat;
            background-attachment: fixed ;
        }

        #QuestionSystem{
            text-align: center;
            margin-top: 100px;
            cursor: pointer;
        }

        #QuestionSystemAgn{
            text-align: center;
            margin-top: 100px;
            display: none;
        }
    </style>
</head>

<body>
<h1 style="text-align: center">随机出题系统</h1>

<script>

    //禁止网页内容被复制
    document.oncontextmenu=new Function("event.returnValue=false");
    document.onselectstart=new Function("event.returnValue=false");

    //雪花特效
    (function($){
        $.fn.snow = function(options){
            var $flake = $('<div id="snowbox" />').css({'position': 'absolute','z-index':'9999', 'top': '-50px'}).html('❄'),
                documentHeight     = $(document).height(),
                documentWidth    = $(document).width(),
                defaults = {
                    minSize        : 10,
                    maxSize        : 20,
                    newOn        : 1000,
                    flakeColor    : "#00bfff" /* 此处可以定义雪花颜色*/
                },
                options    = $.extend({}, defaults, options);
            var interval= setInterval( function(){
                var startPositionLeft = Math.random() * documentWidth - 100,
                    startOpacity = 0.5 + Math.random(),
                    sizeFlake = options.minSize + Math.random() * options.maxSize,
                    endPositionTop = documentHeight - 200,
                    endPositionLeft = startPositionLeft - 500 + Math.random() * 500,
                    durationFall = documentHeight * 10 + Math.random() * 5000;
                $flake.clone().appendTo('body').css({
                    left: startPositionLeft,
                    opacity: startOpacity,
                    'font-size': sizeFlake,
                    color: options.flakeColor
                }).animate({
                    top: endPositionTop,
                    left: endPositionLeft,
                    opacity: 0.2
                },durationFall,'linear',function(){
                    $(this).remove()
                });
            }, options.newOn);
        };
    })(jQuery);
    $(function(){
        $.fn.snow({
            minSize: 5, /* 定义雪花最小尺寸 */
            maxSize: 50,/* 定义雪花最大尺寸 */
            newOn: 300  /* 定义密集程度，数字越小越密集 */
        });
    });


    //生成对象，对应题目
    var object1 ={
        topic:"曾被钟嗣成称为“心性聪明，酷嗜音律”元代戏曲家、散曲家是?",
        a:"睢景臣",
        b:"江淹",
        c:"秦观",
        d:"张若虚",
        answer:"睢景臣"
    }

    var object2 ={
        topic:"孟尝君是战国时期?",
        a:"齐国人",
        b:"魏国人",
        c:"赵国人",
        d:"秦国人",
        answer:"齐国人"
    }

    var object3 ={
        topic:"在《秋水》中，庄子用“夏虫不可以语于冰”作喻来说明?",
        a:"人的认识受时间限制",
        b:"人的认识受空间限制",
        c:"人的认识受先天素质限制",
        d:"人的认识受后天教育限制",
        answer:"人的认识受时间限制"
    }

    var object4 ={
        topic:"中国现当代著名诗人是?",
        a:"胡适",
        b:"艾青",
        c:"穆旦",
        d:"施蛰存",
        answer:"艾青"
    }

    var object5 ={
        topic:"《诗经》中保存民歌最多的是?",
        a:"周颂",
        b:"大雅",
        c:"小雅",
        d:"国风",
        answer:"小雅"
    }

    var object6 ={
        topic:"下列各组词语中，有错别字的一组是?",
        a:"寒暄 执着 踌躇 众说纷纭",
        b:"慰藉 隽永 朦胧 眼花瞭乱",
        c:"鞭笞 赋予 萦绕 出神入化",
        d:"窟窿 穹隆 缥缈 叹为观止",
        answer:"慰藉 隽永 朦胧 眼花瞭乱"
    }

    var object7 ={
        topic:"下列没有语病的一项是?",
        a:"凭借NBA的一部宣传片，姚明完成了从单纯的“体育明星”转变到“体育、娱乐明星",
        b:"山东大学积极采取措施，培养新入校的大学生，力争在较短时间内解决史学界后继乏人的状况",
        c:"有尽之言能传无穷之意，诀窍就在“言”是经过精选的，有典型性，能代表或暗示出许多其他的东西",
        d:"广电总局任司长点名批评\"大嘴\"宋祖德，同时强调加强管理的目的是希望建立促进整个影视传媒产业在有序的状态下进行工作",
        answer:"有尽之言能传无穷之意，诀窍就在“言”是经过精选的，有典型性，能代表或暗示出许多其他的东西"
    }

    var object8 ={
        topic:"下列文学常识中有误的一项是?",
        a:"《孟子》一书共分为七篇，其中多数为论辩文章。孟子的文章富于雄辩，气势充沛，感情强烈，同时他又善于运用比喻等手法，将抽象道理具体化，使文章引人入胜，具有很高的文学价值",
        b:"曹雪芹，中国清代小说家，字梦阮，号雪芹。他创作的《红楼梦》原名《石头记》是我国古代长篇小说中现实主义的高峰。《红楼梦》共120回，前80回为曹雪芹所写，后40回为高鹗所续",
        c:"《祝福》选自《呐喊》，作者是鲁迅，他的另两部小说集是《彷徨》《故事新编》，散文集是《朝花夕拾》，散文诗集是《野草》，还有杂文17部",
        d:"海明威是美国现代作家。代表作有《太阳照常升起》、《永别了，武器》、《丧钟为谁而鸣》、《老人与海》等。在《老人与海》中，作者通过主人公桑地亚哥塑造了\"硬汉\"性格",
        answer:"《祝福》选自《呐喊》，作者是鲁迅，他的另两部小说集是《彷徨》《故事新编》，散文集是《朝花夕拾》，散文诗集是《野草》，还有杂文17部"
    }

    var object9 ={
        topic:"下列各句中，加点的词语使用恰当的一句是?",
        a:"著名的雄辩家，在辩论时常常无所不用其极，或巧妙设喻，或巧设圈套，逻辑严谨，酣畅犀利，让对方无从辩驳",
        b:"同是儒家学说的代表人物，如果说，孔子给人的感觉是仁者的谆谆教诲，那么孟子给人的感觉就是口若悬河，机智而雄辩",
        c:"易中天讲三国时，不时串用“CEO”“民营企业”等现代词汇，这些词汇的串用让他把枯燥的学术讲得生龙活虎，引人入胜",
        d:"从纯文学的角度来讲，“90后”的作家的作品确实还显稚嫩，与那些真正有实力的作家相比，“90后”的作家确实只能望其项背",
        answer:"同是儒家学说的代表人物，如果说，孔子给人的感觉是仁者的谆谆教诲，那么孟子给人的感觉就是口若悬河，机智而雄辩"
    }

    var object10 ={
        topic:"有关文言文化常识的解说，不正确的一项是?",
        a:"下九：古代农历每月十九为下九，是妇女回娘家的日子。二十九为上九，初九为中九",
        b:"六合：古人结婚要选好日子，要年、月、日的干支（干，天干，指甲、乙、丙、丁……；支，地支，指子、丑、寅、卯……；年月日的干支合起来共六个字，例如甲子年，乙丑月，丙寅日）都相适合，叫六合。又指东、西、南、北、天、地",
        c:"青庐：用青布搭成的篷帐，是举行婚礼的地方。盛行于东汉到唐",
        d:"箜篌：古代的一种弦乐器，23弦或25弦，分卧式、竖式两种",
        answer:"下九：古代农历每月十九为下九，是妇女回娘家的日子。二十九为上九，初九为中九"
    }

    var object11 ={
        topic:"有关文言文化常识的解说，不正确的一项是?",
        a:"楷书也叫“行书”“隶书”，汉魏之际形成，南北朝时期逐渐成为主要字体，一直使用到现在。“楷”有“规则”之意，字形方正严整，笔画平易圆转，更便于书写",
        b:"汉字是方块字，有独体和合体之分。独体主要是以图形为基础发展变化而来的“象形字”“指事字",
        c:"合体字是以独体字为基础而构成的，包括“会意字”“形声字”",
        d:"关于汉字的形成，前人有所谓“六书”：象形、指事、会意、形声、转注、假借。现代学者认为：六书前四种是构字法，后两种是用字法",
        answer:"楷书也叫“行书”“隶书”，汉魏之际形成，南北朝时期逐渐成为主要字体，一直使用到现在。“楷”有“规则”之意，字形方正严整，笔画平易圆转，更便于书写"
    }

    var object12 ={
        topic:"有关文言文化常识的解说，不正确的一项是?",
        a:"汉字的形体经历了由金文、甲骨文、大篆、小篆、隶书、草书、行书、楷书的演变过程。分为古代汉字阶段（商代—秦代，甲骨文—小篆）和隶书楷书阶段（汉代—现代，隶书—楷书）",
        b:"隶书是两汉时通行的主要字体，笔画平直，略有波浪起伏，书写简便",
        c:"草书形成于汉代，是辅助隶书的简便字体，主要用于起草文书和通信，使用连笔，书写快捷，但难于辨认",
        d:"行书出现在东汉晚期，楷书产生后，逐渐演变成介于草书和楷书之间的字体，易书写，比草书易辨认",
        answer:"汉字的形体经历了由金文、甲骨文、大篆、小篆、隶书、草书、行书、楷书的演变过程。分为古代汉字阶段（商代—秦代，甲骨文—小篆）和隶书楷书阶段（汉代—现代，隶书—楷书）"
    }

    var object13 ={
        topic:"有关文言文化常识的解说，不正确的一项是?",
        a:"对联也叫“楹联”“楹帖”“对子”，由骈文和律诗演变而来。形成于唐宋，盛行于明清",
        b:"对联由上联、下联组成。字数多少无规定，要求对仗工整，平仄协调",
        c:"对仗的要求是：字数相等，词性相同，结构相当",
        d:"对联为竖行书写，中间不加标点。张贴时，上联在左边，下联在右边",
        answer:"对联为竖行书写，中间不加标点。张贴时，上联在左边，下联在右边"
    }

    var object14 ={
        topic:"有关文言文化常识的解说，不正确的一项是?",
        a:"《诗经》是我国最早的一部诗歌总集，又称“诗三百”，共收诗305篇。内容分为“风”“雅”“颂”，主要手法是“赋”“比”“兴”。开创了我国现实主义创作手法的先河",
        b:"《诗经》“六义”指的是风、雅、颂、赋、比、兴，前三者指的是诗的不同体制；后三者指的是诗的不同表现手法",
        c:"朱熹在《诗集传》中解释说：“赋者，敷陈其事而直言之者也”，“比者，以彼物比此物也”，“兴者，先言他物以引起所咏之辞也”",
        d:"古代女孩把头发扎成丫髻，叫总角，后来用总角指代少女时代",
        answer:"古代女孩把头发扎成丫髻，叫总角，后来用总角指代少女时代"
    }

    var object15 ={
        topic:"下列说法有误的一项是?",
        a:"闻一多作为一个热爱自己祖国的诗人，在海外对祖国的思念异常深切，但当他回到祖国时，他却坠入了可怕的深渊，现实打破了他的理想，失望悲痛的情感就化为了感人的诗篇——《发现》",
        b:"艾青，原名蒋海澄，以《大堰河——我的保姆》成名。他的诗集有《向太阳》《北方》《红烛》等，他的诗作泥土气息浓，诗风沉郁，是我国现代诗歌的一个里程碑",
        c:"屈原是战国时期楚国重要政治家，他的一生是在激烈复杂的政治斗争中度过的。他开创了“楚辞”文体，创作了抒情长诗《离骚》，作品中充满着强烈的爱国主义情感和浪漫主义气息",
        d:"“长江三峡”为瞿塘峡、巫峡和西陵峡，分别以雄、秀、险著名。杜甫有诗“千村万壑赴荆门，生长明妃尚有村”，诗中的“明妃”指的是汉代的王昭君",
        answer:"艾青，原名蒋海澄，以《大堰河——我的保姆》成名。他的诗集有《向太阳》《北方》《红烛》等，他的诗作泥土气息浓，诗风沉郁，是我国现代诗歌的一个里程碑"
    }

    //自定义生成随机数函数random
    function random(min,max) {
        return Math.floor(Math.random()*(max-min))+min;
    }

    //创建数组，将对象加入数组当中
    var arr=new Array();
    arr[0]=object1;
    arr[1]=object2;
    arr[2]=object3;
    arr[3]=object4;
    arr[4]=object5;
    arr[5]=object6;
    arr[6]=object7;
    arr[7]=object8;
    arr[8]=object9;
    arr[9]=object10;
    arr[10]=object11;
    arr[11]=object12;
    arr[12]=object13;
    arr[13]=object14;
    arr[14]=object15;

    //创建数组用于存储题目、答案、题目对象等
    var arr1=new Array();
    var arrAnswer=new Array();
    var arrTopic=new Array();
    var arrWord=new Array();
    var arrTrueAnswer=new Array();
    var ae=new Array();

    //随机生成题目
    while(true){
        var arr2=new Array();
        var i=random(0,15);
        //判断题目是否生成过，没生成过才出题目，否则，反之
        if(!arr1.includes(i)) {
            //将整个题目对象存储到集合中，用于答案比较
            arrTopic[arrTopic.length]=arr[i];

            document.write("</br>");
            document.write("<span style='font-size: 16.5px'>"+(arr1.length+1)+"."+arr[i].topic+"</span></br>");

            //随机生成选项
             while(true) {
                var j = random(0,4);
                //判断选项时候生成过，没生成过来出选项，否则，反之
                if (!arr2.includes(j)) {
                    //根据随机生成的数生成对应的选项
                    switch (j) {
                        case 0:
                            document.write("<input type='radio' name='"+arr1.length+"' id='a' value='"+arr[i].a+"' class='"+String.fromCharCode(65+arr2.length)+"'>"+arr[i].a +"</br>");
                            ae=document.getElementsByClassName(String.fromCharCode(65+arr2.length));
                            if(ae[ae.length-1].value==arr[i].answer){
                                arrTrueAnswer[arr1.length]=ae[ae.length-1].className;
                            }
                            break;

                        case 1:
                            document.write("<input type='radio' name='"+arr1.length+"' id='b' value='"+arr[i].b+"' class='"+String.fromCharCode(65+arr2.length)+"'>"+arr[i].b +"</br>");
                            ae=document.getElementsByClassName(String.fromCharCode(65+arr2.length));
                            if(ae[ae.length-1].value==arr[i].answer){
                                arrTrueAnswer[arr1.length]=ae[ae.length-1].className;
                            }
                            break;

                        case 2:
                            document.write("<input type='radio' name='"+arr1.length+"' id='c' value='"+arr[i].c+"' class='"+String.fromCharCode(65+arr2.length)+"'>"+arr[i].c +"</br>");
                            ae=document.getElementsByClassName(String.fromCharCode(65+arr2.length));
                            if(ae[ae.length-1].value==arr[i].answer){
                                arrTrueAnswer[arr1.length]=ae[ae.length-1].className;
                            }
                            break;

                        case 3:
                            document.write("<input type='radio' name='"+arr1.length+"' id='d' value='"+arr[i].d+"' class='"+String.fromCharCode(65+arr2.length)+"'>"+arr[i].d+"</br>");
                            ae=document.getElementsByClassName(String.fromCharCode(65+arr2.length));
                            if(ae[ae.length-1].value==arr[i].answer){
                                arrTrueAnswer[arr1.length]=ae[ae.length-1].className;
                            }
                            break;

                    }
                    //将生成过得选项添加到数组当中，用于前面的判断
                    arr2[arr2.length]=j;
                }
                //选项结束条件
                if(arr2.length==4){
                    document.write("<span id='yourAnswer"+arr1.length+"' style='color: red'>"+"</span>"+"</br>");
                    document.write("<span id='trueAnswer"+arr1.length+"' style='color: red'>"+"</span>");
                    break;
                }

            }
            //将生成过得题目添加到数组当中，用于前面的判断
            arr1[arr1.length]=i;
        }
        //题目结束条件
        if(arr1.length==10){
            break;
        }
    }

    //评分功能
    function xx(){
        //获取答案
        for(var i=0;i<arr1.length;i++){
           var value= $(":radio[name='"+i+"']:checked").val();
           var Class=$(":radio[name='"+i+"']:checked").attr("class");
           arrAnswer[i]=value;
           arrWord[i]=Class;
        }

        //比较答案
        var sum=0;
        for(var i=0;i<arrAnswer.length;i++){
            if(arrAnswer[i]==arrTopic[i].answer){
                sum=sum+10;
            }
        }

        alert("您的得分为:"+sum);

        for(var i=0;i<arr1.length*4;i++){
            var sd=document.getElementsByTagName("input");
            // if($(":radio[name='"+i+"']:checked")){
            //     console.log($(":radio[name='"+i+"']:checked"));
                sd[i].disabled="disabled";
            // }

        }
    }


    //提交按钮变为再次尝试按钮
    $(document).ready(function () {
    $("#QuestionSystem").click(function () {
        $("#QuestionSystem").hide();
        $("#QuestionSystemAgn").show();
         })
    })

    //生成答案
    function answer() {
        for (var i = 0; i < arr1.length; i++) {
            if(arrWord[i]==undefined){
                document.getElementById("yourAnswer"+i).innerText="你的答案:未选择";
            }else {
                document.getElementById("yourAnswer"+i).innerText="你的答案:"+arrWord[i];
            }
            document.getElementById("trueAnswer"+i).innerText="正确答案:"+arrTrueAnswer[i];
            //document.write("</br>");

        }
    }


</script>

<!--提交按钮-->
<div id="QuestionSystem">
    <button style="width: 90px ;height:35px " onclick="xx(),answer()" >
        <a id="tj" href="#" style="text-decoration: none;color: #000000">提交</a>
    </button>
</div>

<!--再次尝试按钮-->
<div id="QuestionSystemAgn" >
    <button style="width: 90px ;height:35px " onclick="lick()">
        <a id="zc" href="" style="text-decoration: none ;color: black" >再次尝试</a>
    </button>
</div>

<br/>
<br/>
<br/>
<br/>

</body>
</html>